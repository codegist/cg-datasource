<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../cg-behaviors/cg-document-event-behavior.html">
<script>
    var DataSourceBaseBehaviorImpl = {
        is: "cg-datasource-base-behavior",
        properties: {
            providersMap: {
                type: Object
            }
        },
        created: function () {
            this.listensTo("cg-data-request", this._onDataRequest);
        },
        _onDataRequest: function (type, event, e) {
            var request = event.params;
            var dataProvider = this.providersMap[type];
            if (!dataProvider) {
                throw request.type + " data provider not found.";
            } else {
                dataProvider.call(this, request);
            }
        }
    };
    CG.DataSourceBaseBehavior = [DataSourceBaseBehaviorImpl, CG.DocumentEventBehavior];
</script>