<link href="../polymer/polymer.html" rel="import">
<link href="../cg-base/cg-base.html" rel="import">

<polymer-element name="cg-datasource-base" extends="cg-base">
    <script>
        Polymer({
            created:function(){
                Polymer.addEventListener(document, "data-request", this._onDataRequest.bind(this));
            },
            _onDataRequest:function(e){
                var request = e.detail;
                var dataProvider = this.getProvider(request.type);
                if(!dataProvider) {
                    console.warn(request.type + " data provider not found.");
                }else{
                    dataProvider.call(this, request.callback, request.params);
                }
            },
            getProvider:function(type){
                throw "getProvider";
            }
        });
    </script>
</polymer-element>